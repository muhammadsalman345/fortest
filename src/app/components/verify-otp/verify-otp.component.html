<!-- verify-otp.component.html -->

<form (ngSubmit)="onSubmit()">
  <p-card header="Verify OTP" [style]="{ width: '360px' }">
    <div class="field">
      <label for="email">Email:</label>
      <input type="email" class="form-control w-full" id="email" [(ngModel)]="email" name="email" required disabled>
      <small class="block p-error" *ngIf="!email">Email is required.</small>
    </div>

    <div class="field">
      <label for="otp">Enter OTP:</label>
      <input type="text" class="form-control w-full" id="otp" [(ngModel)]="otp" name="otp" required>
      <small *ngIf="!otp">OTP is required.</small>
    </div>

    <p-button (click)="onSubmit()" label="Verify OTP" styleClass="w-full" [disabled]="!email || !otp || loading"></p-button>

    <!-- Spinner -->
    <div *ngIf="loading" class="spinner-overlay">
      <p-progressSpinner></p-progressSpinner>
    </div>

    <!-- Display messages -->
    <div *ngFor="let message of messages">
      <div [ngClass]="['p-message', 'p-message-' + message.severity]">
        <div class="p-message-summary">{{ message.summary }}</div>
        <div class="p-message-detail">{{ message.detail }}</div>
      </div>
    </div>
  </p-card>
</form>
